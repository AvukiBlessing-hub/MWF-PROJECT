meta(charset="UTF-8")
meta(name="viewport", content="width=device-width,initial-scale=1")
title Edit Sale
link(rel="stylesheet", href="/CSS/sales.css")

// ===== Navbar =====
nav.navbar
  ul
    li
      a(href="/dashboard") Dashboard 
    li
      a(href="/signup") Register users
    li
      a(href="/userlist") Registered users 
    li
      a(href="/stock") Stock
    li
      a(href="/stocklist") Stocklist
    li
      a(href="/sales") Sales 
    li
      a(href="/saleslist") Saleslist
    li
      a(href="/delivery") Delivery
    li
      a(href="/deliverylist") Deliverylist

.container
  h1 Edit Sale Form
  form(action=`/editsales/${item._id}`, method="post")
    input(type="hidden", name="_id", value=item._id)

    // Customer Name
    label(for="customerName") Customer Name
    input#customerName(type="text", name="customerName", value=item.customerName, required)

    // Product Type
    label(for="productType") Product Type
    select#productType(name="productType", required)
      option(value="" disabled selected)= item.productType || "Select Product Type"
      option(value="furniture", selected=item.productType === "furniture") Furniture
      option(value="wood", selected=item.productType === "wood") Wood

    // Product Name
    label(for="productName") Product Name
    select#productName(name="productName", required)
      option(value="" disabled selected)= item.productName || "Select Product Name"
      option(value="Sofa", selected=item.productName === "Sofa") Sofa
      option(value="diningTable", selected=item.productName === "diningTable") Dining Table
      option(value="bed", selected=item.productName === "bed") Bed
      option(value="chair", selected=item.productName === "chair") Chair
      option(value="timber", selected=item.productName === "timber") Timber
      option(value="table", selected=item.productName === "table") Table
      option(value="poles", selected=item.productName === "poles") Poles
      option(value="Hardwood", selected=item.productName === "Hardwood") Hardwood

    // Quantity
    label(for="quantity") Quantity
    input#quantity(type="number", name="quantity", value=item.quantity, min="1", required, placeholder="Enter quantity")

    // Quality
    label(for="quality") Quality
    select#quality(name="quality", required)
      option(value="" disabled selected)= item.quality || "Select Quality"
      option(value="high", selected=item.quality === "high") High
      option(value="medium", selected=item.quality === "medium") Medium
      option(value="low", selected=item.quality === "low") Low

    // Cost Price
    label(for="costPrice") Cost Price (per unit)
    input#costPrice(type="number", name="costPrice", value=item.costPrice, min="0", step="0.01", required)

    // Transport Fee
    .checkbox
      input#transportCheck(type="checkbox", name="transportCheck", checked=item.transportFee)
      label(for="transportCheck") Add 5% Transport Fee

    // Payment Method
    label(for="paymentMethod") Payment Method
    select#paymentMethod(name="paymentMethod", required)
      option(value="" disabled selected)= item.paymentMethod || "Select Payment Method"
      option(value="cash", selected=item.paymentMethod === "cash") Cash
      option(value="cheque", selected=item.paymentMethod === "cheque") Cheque
      option(value="bank-overdraft", selected=item.paymentMethod === "bank-overdraft") Bank Overdraft

    // Sales Agent
    label(for="Attendant") Attendant 
    // You may want to make this readonly or hidden depending on role
    input#Attendant(type="text", name="Attendant", value=item.Attendant.name || '', required, minlength="3")

    // Total Price
    label(for="totalPrice") Total Price
    input#totalPrice(type="text", name="totalPrice", value=item.totalPrice, readonly)

    // Submit
    button.btn(type="submit") Update Sale

script(src="/public/sales.js")
